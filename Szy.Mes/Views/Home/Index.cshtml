@{
    ViewData["Title"] = "首页";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var level1Menus = ViewBag.Level1Menus as List<Szy.Mes.Models.MenuModel>;
    var allMenus = ViewBag.AllMenus as List<Szy.Mes.Models.MenuModel>;
}

<!-- 左侧一级/二级菜单区域 -->
<div class="left-menu">
    <div class="menu-title">系统菜单</div>
    @foreach (var level1 in level1Menus)
    {
        <div class="level1-menu" data-id="@level1.Id">
            <span class="menu-icon">▶</span> @level1.MenuName
            <!-- 二级菜单 -->
            <div class="level2-menu">
                @foreach (var level2 in allMenus.Where(m => m.ParentId == level1.Id && m.Level == 2))
                {
                    <div class="level2-item" data-id="@level2.Id">@level2.MenuName</div>
                }
            </div>
        </div>
    }
</div>

<!-- 右侧三级/四级菜单 + 多页签区域 -->
<div class="right-container">
    <!-- 右侧菜单区域 -->
    <div class="right-menu">
        <div class="menu-title">功能菜单</div>
        <div id="level3-menu"></div>
        <div id="level4-menu"></div>
    </div>

    <!-- 多页签区域 -->
    <div class="tab-container">
        <!-- 页签头部 -->
        <div class="tab-header">
            <div id="tab-items"></div>
        </div>
        <!-- 页签内容 -->
        <div class="tab-content" id="tab-content"></div>
    </div>
</div>

<script>
    // 初始化菜单数据（从后端传递）
    window.allMenus = @Json.Serialize(allMenus);
    
</script>